======================================================================
Performance Profiling Report
======================================================================

1. COACTIVITY TRACKING PERFORMANCE
----------------------------------------------------------------------
Total time: 0.025 s
Time per step: 0.124 ms
Steps per second: 8087.1
Coactivity matrix size: 2,500

Key Function Timings (cumulative):
  - Coactivity registration: 0.000 s
  - Spike sampling: 0.000 s
  - Rate computation: 0.000 s

2. GRAPH CONSTRUCTION PERFORMANCE
----------------------------------------------------------------------
Average graph build time: 0.159 ms
Std dev: 0.475 ms
Average edges: 160

Key Function Timings (cumulative):
  - Build from coactivity: 0.001 s
  - Distance calculations: 0.000 s

3. BETTI NUMBER COMPUTATION PERFORMANCE
----------------------------------------------------------------------
Average Betti computation time: 198.012 ms
Average clique extraction time: 0.552 ms
Number of cliques: 47

Key Function Timings (cumulative):
  - Ripser time: 0.000 s
  - Gudhi time: 0.000 s

4. RECOMMENDATIONS
----------------------------------------------------------------------
✓ Coactivity tracking is efficient
✓ Graph construction is efficient
✓ Betti computation is efficient

======================================================================

DETAILED PROFILER STATISTICS
======================================================================

Coactivity Tracking (Top 20 functions):
         30311 function calls in 0.025 seconds

   Ordered by: cumulative time
   List reduced from 58 to 20 due to restriction <20>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
      200    0.001    0.000    0.021    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/controllers/place_cell_controller.py:128(step)
      200    0.012    0.000    0.014    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/coactivity.py:36(register_spikes)
      200    0.002    0.000    0.004    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/place_cells.py:112(sample_spikes)
      200    0.001    0.000    0.003    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/env.py:197(step)
      200    0.001    0.000    0.002    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/place_cells.py:103(get_rates)
    11610    0.001    0.000    0.001    0.000 {method 'add' of 'set' objects}
      400    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/fromnumeric.py:2241(clip)
      400    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/fromnumeric.py:2477(any)
      600    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/fromnumeric.py:51(_wrapfunc)
      200    0.000    0.000    0.001    0.000 {method 'mean' of 'numpy.ndarray' objects}
      400    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/fromnumeric.py:89(_wrapreduction_any_all)
      200    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/_methods.py:117(_mean)
      200    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/env.py:117(clip)
      200    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/numeric.py:680(flatnonzero)
      200    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/linalg/_linalg.py:2623(norm)
      200    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/einsumfunc.py:1057(einsum)
      200    0.000    0.000    0.000    0.000 {built-in method numpy._core._multiarray_umath.c_einsum}
      600    0.000    0.000    0.000    0.000 {method 'reduce' of 'numpy.ufunc' objects}
      400    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/_core/_methods.py:98(_clip)
      200    0.000    0.000    0.000    0.000 {method 'clip' of 'numpy.generic' objects}




Graph Construction (Top 20 functions):
         4088 function calls in 0.002 seconds

   Ordered by: cumulative time
   List reduced from 38 to 20 due to restriction <20>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
       10    0.000    0.000    0.002    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/controllers/place_cell_controller.py:188(get_graph)
        1    0.001    0.001    0.001    0.001 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/topology.py:36(build_from_coactivity)
      365    0.000    0.000    0.001    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/linalg/_linalg.py:2623(norm)
      160    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/networkx/classes/graph.py:906(add_edge)
      365    0.000    0.000    0.000    0.000 {method 'dot' of 'numpy.ndarray' objects}
        1    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/topology.py:25(__init__)
      365    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/linalg/_linalg.py:187(isComplexType)
       10    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}
      365    0.000    0.000    0.000    0.000 {method 'ravel' of 'numpy.ndarray' objects}
      211    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/networkx/utils/misc.py:593(_clear_cache)
       50    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/networkx/classes/graph.py:524(add_node)
      730    0.000    0.000    0.000    0.000 {built-in method builtins.issubclass}
      211    0.000    0.000    0.000    0.000 {method 'update' of 'dict' objects}
      366    0.000    0.000    0.000    0.000 {built-in method numpy.asarray}
      365    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/numpy/linalg/_linalg.py:2619(_norm_dispatcher)
        1    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/networkx/classes/reportviews.py:1270(__len__)
        1    0.000    0.000    0.000    0.000 {built-in method builtins.sum}
      161    0.000    0.000    0.000    0.000 {method 'get' of 'dict' objects}
      211    0.000    0.000    0.000    0.000 {built-in method builtins.getattr}
       51    0.000    0.000    0.000    0.000 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/networkx/classes/reportviews.py:1271(<genexpr>)




Betti Computation (Top 20 functions):
         1090108 function calls (1067446 primitive calls) in 0.992 seconds

   Ordered by: cumulative time
   List reduced from 3374 to 20 due to restriction <20>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        5    0.000    0.000    0.990    0.198 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/topology.py:230(compute_betti_numbers)
    852/1    0.003    0.000    0.963    0.963 <frozen importlib._bootstrap>:1349(_find_and_load)
    823/1    0.002    0.000    0.963    0.963 <frozen importlib._bootstrap>:1304(_find_and_load_unlocked)
    796/1    0.002    0.000    0.962    0.962 <frozen importlib._bootstrap>:911(_load_unlocked)
    670/1    0.001    0.000    0.962    0.962 <frozen importlib._bootstrap_external>:1020(exec_module)
   1972/2    0.002    0.000    0.962    0.481 <frozen importlib._bootstrap>:480(_call_with_frames_removed)
    899/2    0.018    0.000    0.962    0.481 {built-in method builtins.exec}
        1    0.000    0.000    0.962    0.962 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/src/hippocampus_core/persistent_homology.py:1(<module>)
        1    0.000    0.000    0.961    0.961 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/ripser/__init__.py:1(<module>)
        1    0.000    0.000    0.960    0.960 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/ripser/ripser.py:1(<module>)
   253/27    0.000    0.000    0.924    0.034 {built-in method builtins.__import__}
        1    0.000    0.000    0.770    0.770 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/__init__.py:1(<module>)
        1    0.000    0.000    0.762    0.762 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/base.py:1(<module>)
        1    0.000    0.000    0.760    0.760 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/utils/__init__.py:1(<module>)
        1    0.000    0.000    0.748    0.748 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/utils/_chunking.py:1(<module>)
        1    0.000    0.000    0.748    0.748 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/utils/_param_validation.py:1(<module>)
        1    0.000    0.000    0.747    0.747 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/utils/validation.py:1(<module>)
        1    0.000    0.000    0.647    0.647 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/utils/_array_api.py:1(<module>)
  784/395    0.001    0.000    0.569    0.001 <frozen importlib._bootstrap>:1390(_handle_fromlist)
        1    0.000    0.000    0.491    0.491 /Users/jacobhornsvennevik/Documents/GitHub/ros-drone/venv/lib/python3.13/site-packages/sklearn/utils/fixes.py:1(<module>)


